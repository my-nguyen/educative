How do we search in a sorted and rotated array that also has duplicates?

The code above will fail in the following example!

**Example 1:**
**Input:** [3, 7, 3, 3, 3], key = 7
**Output:** 1
**Explanation:** '7' is present in the array at index '1'.